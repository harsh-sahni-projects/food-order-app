(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={container:"CartItems_container__2c5qL",emptyMsg:"CartItems_emptyMsg__1U_x7",unitPrice:"CartItems_unitPrice__2t_9D",quantity:"CartItems_quantity__1ODxV",itemName:"CartItems_itemName__1H8J2",leftDiv:"CartItems_leftDiv__2z5iG",rightDiv:"CartItems_rightDiv__10L_b"}},function(e,t,n){e.exports={container:"MealItem_container__wLyCs",description:"MealItem_description__11lc7",price:"MealItem_price__29Ns5",divAmountChanger:"MealItem_divAmountChanger__1B0Ub",amount:"MealItem_amount__2b--5",addButton:"MealItem_addButton__nT3AJ",rightDiv:"MealItem_rightDiv__3X261"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__3RFdf",modalOuterContainer:"Modal_modalOuterContainer__WFGQd",modal:"Modal_modal__2g0Wb",animate:"Modal_animate__JS9Yu","cart-items-list":"Modal_cart-items-list__3npOM","total-container":"Modal_total-container__3tuXh",content:"Modal_content__HJOs8",actions:"Modal_actions__2MXal",cancelBtn:"Modal_cancelBtn__1h2zx"}},function(e,t,n){e.exports={dividerLine:"CheckoutForm_dividerLine__1zIpZ",checkoutForm:"CheckoutForm_checkoutForm__39QO7",animateForm:"CheckoutForm_animateForm__3TJIu",invalidInput:"CheckoutForm_invalidInput__cseK-",errorInputAnimation:"CheckoutForm_errorInputAnimation__3CVCs",errCont:"CheckoutForm_errCont__3RBea"}},function(e,t,n){e.exports={container:"Footer_container__vX8wi",content:"Footer_content__KfUqm",left:"Footer_left__3Anr9",mid:"Footer_mid__3HKgf",right:"Footer_right__1UACq",icon:"Footer_icon__3R1po",githubIcon:"Footer_githubIcon__1jwiP",authorImg:"Footer_authorImg__QfsON"}},,,,,function(e,t,n){e.exports={badge:"HeaderCartButton_badge__3qXOK",button:"HeaderCartButton_button__pFFAt",cartIcon:"HeaderCartButton_cartIcon__tEVHy",animate:"HeaderCartButton_animate__18EB8",animateBtn:"HeaderCartButton_animateBtn__3edh8",bump:"HeaderCartButton_bump__3h2Sd"}},,function(e,t,n){e.exports={imgContainer:"Introduction_imgContainer__2D9ic",foodImg:"Introduction_foodImg__1WBHq","description-container":"Introduction_description-container__-Y8Y9"}},function(e,t,n){e.exports={card:"Menu_card__2Fp7l",loadingMsg:"Menu_loadingMsg__7EHbO",animate:"Menu_animate__1rtpv"}},,function(e,t,n){e.exports={header:"Header_header__2fIN1",heading:"Header_heading__3Ezk5"}},,function(e,t,n){e.exports={button:"Button_button__1Nk4s"}},function(e,t,n){e.exports={card:"Card_card__10yt9"}},,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(10),i=n.n(r),s=n(9),o=n.n(s),l=n(8),u=n(13),d=n(2),m=n(12),j=n.n(m),b=n(19),h=n.n(b),O=n(0),_=function(e){var t="".concat(h.a.button," ").concat(e.className);return Object(O.jsx)("button",{className:t,onClick:e.onClick,children:e.children})},p=c.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearCart:function(){}}),f=n(11),x=function(e){var t=Object(a.useContext)(p).items.reduce((function(e,t){return e+t.quantity}),0),n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],i=c[1],s="".concat(j.a.button,"  ").concat(r?j.a.bump:"");return Object(a.useEffect)((function(){if(0!==t){i(!0);var e=setTimeout((function(){i(!1)}),300);return function(){clearTimeout(e)}}}),[t]),Object(O.jsxs)(_,{className:s,onClick:e.onClick,children:[Object(O.jsx)(f.c,{className:j.a.cartIcon}),Object(O.jsx)("span",{children:"Your cart"}),Object(O.jsx)("span",{className:j.a.badge,children:t})]})},v=n(17),C=n.n(v),g=function(e){return Object(O.jsxs)("div",{className:C.a.header,children:[Object(O.jsx)("span",{className:C.a.heading,children:"Meals"}),Object(O.jsx)(x,{onClick:e.onShowCart})]})},N=n(20),I=n.n(N),F=function(e){var t="".concat(I.a.card," ").concat(e.className);return Object(O.jsx)("div",{className:t,children:e.children})},y=n(14),k=n.n(y),A=n.p+"static/media/food.c583ce98.png",M=function(){return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsxs)("div",{className:k.a.imgContainer,children:[Object(O.jsx)("div",{}),Object(O.jsx)("img",{src:A,alt:"Food items",className:k.a.foodImg}),Object(O.jsx)("div",{})]}),Object(O.jsxs)(F,{className:k.a["description-container"],children:[Object(O.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(O.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(O.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})]})},B=n(15),P=n.n(B),D=n(4),S=n.n(D),w=function(e){var t=Object(a.useContext)(p),n=Object(a.useRef)(0),c=function(e,t){return parseFloat(parseFloat(e*t).toFixed(2))};return Object(O.jsxs)("div",{className:S.a.container,children:[Object(O.jsxs)("div",{className:S.a.details,children:[Object(O.jsx)("h3",{children:e.name}),Object(O.jsx)("div",{className:S.a.description,children:e.description}),Object(O.jsxs)("div",{className:S.a.price,children:["$",e.price.toFixed(2)]})]}),Object(O.jsxs)("div",{className:S.a.rightDiv,children:[Object(O.jsxs)("div",{className:S.a.divAmountChanger,children:[Object(O.jsx)("label",{htmlFor:e.id,children:"Amount"}),Object(O.jsx)("input",{className:S.a.amount,id:e.id,ref:n,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"})]}),Object(O.jsx)(_,{className:S.a.addButton,onClick:function(){var a=parseInt(n.current.value),r={name:e.name,id:e.id,quantity:a,singleUnitPrice:e.price,itemPurchaseAmount:c(a,e.price)};t.addItem(r)},children:"+ Add"})]})]})},q=function(e){var t=e.meals,n=P.a.card+" "+P.a.animate;return t.length?Object(O.jsx)(F,{className:n,children:t.length?t.map((function(e){return Object(O.jsx)(w,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)})):"Fetching from database..."}):Object(O.jsx)("section",{className:P.a.loadingMsg,children:Object(O.jsx)("p",{children:"Fetching meals from database..."})})},H=n(5),E=n.n(H),R=n(3),L=n.n(R),T=function(){var e=Object(a.useContext)(p),t=0===e.items.length,n=function(t){e.addItem(Object(l.a)(Object(l.a)({},t),{},{quantity:1,itemPurchaseAmount:t.singleUnitPrice}))},c=function(t){e.removeItem(t.id)};return Object(O.jsxs)("div",{children:[t&&Object(O.jsx)("div",{className:L.a.emptyMsg,children:Object(O.jsx)("span",{children:"Your cart is empty. Please add some items."})}),!t&&e.items.map((function(e){return Object(O.jsxs)("div",{className:L.a.container,children:[Object(O.jsxs)("div",{className:L.a.leftDiv,children:[Object(O.jsx)("div",{className:L.a.itemName,children:e.name}),Object(O.jsxs)("span",{className:L.a.unitPrice,children:["$",e.singleUnitPrice]}),Object(O.jsxs)("span",{className:L.a.quantity,children:["x ",e.quantity]})]}),Object(O.jsxs)("div",{className:L.a.rightDiv,children:[Object(O.jsx)("button",{className:L.a.decBtn,onClick:c.bind(null,e),children:"-"}),Object(O.jsx)("button",{className:L.a.incBtn,onClick:n.bind(null,e),children:"+"})]})]},e.id)}))]})},Y=n(6),J=n.n(Y),U=function(e){var t=e.hideForm,n=e.getCartItems,c=e.closeForm,r=Object(a.useContext)(p),i=Object(a.useRef)(null),s=Object(a.useRef)(null),m=Object(a.useRef)(null);Object(a.useEffect)((function(){i.current&&i.current.focus()}),[]);var j=Object(a.useState)(""),b=Object(d.a)(j,2),h=b[0],f=b[1],x=Object(a.useState)(""),v=Object(d.a)(x,2),C=v[0],g=v[1],N=Object(a.useState)(""),I=Object(d.a)(N,2),F=I[0],y=I[1],k=Object(a.useState)(""),A=Object(d.a)(k,2),M=A[0],B=A[1],P=Object(a.useState)(""),D=Object(d.a)(P,2),S=D[0],w=D[1],q=Object(a.useState)(""),H=Object(d.a)(q,2),E=H[0],R=H[1],L=function(){r.clearCart()},T=function(){i.current.value="",s.current.value="",m.current.value="",c()},Y=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="https://food-order-app-988ec-default-rtdb.firebaseio.com/orders.json",!U()){e.next=4;break}return e.abrupt("return");case 4:if(a){e.next=9;break}return alert("Order placed :)"),L(),T(),e.abrupt("return");case 9:return c=n(),e.prev=10,e.next=13,fetch(a,{method:"POST",body:JSON.stringify(Object(l.a)({id:i.current.value,address:s.current.value,phone:m.current.value},c))});case 13:200===e.sent.status&&(alert("Yay! Your order is placed successfully"),L(),T()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),alert(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();function U(){var e=i.current.value.trim(),t=s.current.value.trim(),n=m.current.value.trim(),a=e.length>0;a?(f(""),B("")):(f(""),setTimeout((function(){f(J.a.invalidInput)}),0),B("Name should be at least 1 char long"));var c=t.length>10;c?(g(""),w("")):(g(""),setTimeout((function(){g(J.a.invalidInput)}),0),w("Address should be more than 10 characters"));var r=n.match(/^\+?\d{10,12}$/);return r?(y(""),R("")):(y(""),setTimeout((function(){y(J.a.invalidInput)}),0),R("Only numbers allowed - min 10 and max 12")),!(a&&c&&r)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{className:J.a.dividerLine}),Object(O.jsxs)("form",{onSubmit:Y,className:J.a.checkoutForm,children:[Object(O.jsx)("label",{htmlFor:"name",children:"Your Name:"}),Object(O.jsx)("input",{type:"text",id:"name",ref:i,maxLength:"30",className:h,defaultValue:"Harsh"}),Object(O.jsx)("label",{}),Object(O.jsx)("span",{className:J.a.errCont,children:M}),Object(O.jsx)("label",{htmlFor:"address",children:"Your Address:"}),Object(O.jsx)("input",{type:"text",id:"address",ref:s,maxLength:"100",className:C,defaultValue:"#17, Wall Street, NY"}),Object(O.jsx)("label",{}),Object(O.jsx)("span",{className:J.a.errCont,children:S}),Object(O.jsx)("label",{htmlFor:"phone",children:"Phone:"}),Object(O.jsx)("input",{type:"text",id:"phone",ref:m,maxLength:"12",className:F,defaultValue:"+12232423434"}),Object(O.jsx)("label",{}),Object(O.jsx)("span",{className:J.a.errCont,children:E}),Object(O.jsxs)("section",{children:[Object(O.jsx)(_,{type:"button",onClick:function(e){e.preventDefault(),t()},children:"Back"}),Object(O.jsx)(_,{children:"Place order"})]})]})]})},V=function(e){return Object(O.jsx)("div",{className:E.a.backdrop,onClick:e.onClick})},z=function(e){var t=Object(a.useContext)(p),n=0===t.items.length,c=Object(a.useState)(!1),r=Object(d.a)(c,2),i=r[0],s=r[1];return Object(O.jsx)("div",{className:E.a.modalOuterContainer,children:Object(O.jsxs)(F,{className:E.a.modal,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("header",{className:E.a.header,children:Object(O.jsx)("h2",{children:e.title})}),!i&&Object(O.jsx)("div",{className:E.a.content,children:Object(O.jsx)(T,{})}),!n&&Object(O.jsxs)("div",{className:E.a["total-container"],children:[Object(O.jsx)("span",{children:"Total Amount"}),Object(O.jsxs)("span",{children:["$",t.totalAmount]})]}),i&&Object(O.jsx)(U,{getCartItems:function(){return{items:t.items,totalAmount:t.totalAmount}},hideForm:function(){s(!1)},closeForm:e.onCancel})]}),!i&&Object(O.jsxs)("footer",{className:E.a.actions,children:[Object(O.jsx)(_,{onClick:e.onCancel,className:E.a.cancelBtn,children:"Close"}),!n&&Object(O.jsx)(_,{onClick:function(){s(!0)},children:"Proceed to checkout"})]})]})})},G=function(e){return Object(O.jsxs)(c.a.Fragment,{children:[i.a.createPortal(Object(O.jsx)(V,{onClick:e.onCancel}),document.getElementById("backdrop-root")),i.a.createPortal(Object(O.jsx)(z,{title:e.title,onCancel:e.onCancel,onConfirm:e.onConfirm}),document.getElementById("modal-root"))]})},X=n(7),K=n.n(X),W=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:K.a.container,children:Object(O.jsxs)("div",{className:K.a.content,children:[Object(O.jsxs)("div",{className:K.a.left,children:[Object(O.jsx)("h3",{children:"About"}),Object(O.jsxs)("p",{children:["This is a Food Order App made in ReactJS.",Object(O.jsx)("br",{}),"You can add & remove items from the cart and place a virtual order."]})]}),Object(O.jsxs)("div",{className:K.a.mid,children:[Object(O.jsx)("h3",{children:"Developed by"}),Object(O.jsx)("p",{children:"Harsh Sahni"})]}),Object(O.jsxs)("div",{className:K.a.right,children:[Object(O.jsx)("h3",{children:"Links"}),Object(O.jsxs)("p",{children:[Object(O.jsxs)("span",{children:[Object(O.jsx)(f.b,{className:K.a.icon}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/harsh-sahni",target:"_blank",rel:"noreferrer",children:"Linkedin"})]}),Object(O.jsxs)("span",{children:[Object(O.jsx)(f.a,{className:K.a.icon+" "+K.a.githubIcon}),Object(O.jsx)("a",{href:"https://github.com/harsh-sahni-projects/food-order-app",target:"_blank",rel:"noreferrer",children:"Github"})]})]})]})]})})})},$={items:[],totalAmount:0},Q=function(e,t){if("ADD"===t.type){var n=t.item,a=e.items.findIndex((function(e){return e.id===n.id}));if(a>-1){var c=e.items[a];c.quantity+=n.quantity,c.itemPurchaseAmount+=n.itemPurchaseAmount,e.items[a]=c}else e.items.push(n);return e.totalAmount+=n.itemPurchaseAmount,e.totalAmount=parseFloat(parseFloat(e.totalAmount).toFixed(2)),{items:e.items,totalAmount:e.totalAmount}}if("REMOVE"===t.type){var r=e.items.findIndex((function(e){return e.id===t.id}));if(-1===r)return e;var i=e.items[r];return 1===i.quantity?e.items.splice(r,1):(i.quantity-=1,i.itemPurchaseAmount=parseFloat(parseFloat(i.quantity*i.singleUnitPrice).toFixed(2)),e.items[r]=i),e.totalAmount-=i.singleUnitPrice,{items:e.items,totalAmount:e.totalAmount}}return"CLEAR_CART"===t.type?(console.log("Clearing cart"),{items:[],totalAmount:0}):e},Z=function(e){var t=Object(a.useReducer)(Q,$),n=Object(d.a)(t,2),c=n[0],r=n[1],i={items:c.items,totalAmount:c.totalAmount,addItem:function(e){r({type:"ADD",item:e})},removeItem:function(e){r({type:"REMOVE",id:e})},clearCart:function(){r({type:"CLEAR_CART"})}};return Object(O.jsx)(p.Provider,{value:i,children:e.children})};n(27).config();var ee=function(){var e=Object(a.useMemo)((function(){return[{id:"m1",name:"Farmhouse Pizza",description:"Onion, Capsicum, Grilled Mushroom & Tomato",price:23},{id:"m2",name:"Double Cheese Margherita",description:"Loaded with extra cheese",price:18},{id:"m3",name:"Barbecue Burger",description:"American, raw, premium veg",price:12},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:12}]}),[]),t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a,c,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=3;break;case 3:return"https://food-order-app-988ec-default-rtdb.firebaseio.com/meals.json",t.next=6,fetch("https://food-order-app-988ec-default-rtdb.firebaseio.com/meals.json");case 6:if(200!==!(n=t.sent).status){t.next=10;break}return r(e),t.abrupt("return");case 10:return t.next=12,n.json();case 12:for(i in a=t.sent,c=[],a)s=Object(l.a)({id:i},a[i]),c.push(s);r(c);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var i=Object(a.useState)(!1),s=Object(d.a)(i,2),m=s[0],j=s[1],b=function(){j(!1)};return Object(O.jsxs)(Z,{children:[m&&Object(O.jsx)(G,{title:"Cart",onConfirm:function(){alert("Order placed :)"),b()},onCancel:b}),Object(O.jsx)(g,{onShowCart:function(){j(!0)}}),Object(O.jsx)(M,{}),Object(O.jsx)(q,{meals:c}),Object(O.jsx)(W,{})]})};n(32);i.a.render(Object(O.jsx)(ee,{}),document.getElementById("root"))}],[[33,1,2]]]);
//# sourceMappingURL=main.abd051c3.chunk.js.map